---
title: 心跳消息
tags:
  - Unity客户端
  - Unity网络开发
categories:
  - [Unity客户端, Unity网络开发]
author:
  - nightstardawn
---

# 心跳消息

## 一、什么是心跳消息

</br>所谓心跳消息，就是在长连接中，客户端和服务端之间定期发送的一种特殊的数据包
</br>用于通知对方自己还在线，以确保长连接的有效性
</br>由于其发送的时间间隔往往是固定的持续的，就像是心跳一样一直存在
</br>所以我们称之为心跳消息

## 二、为什么需要心跳消息

1. 避辛免非正常关闭客户端时，服务器无法正常收到关团连接消息
   </br>通过心跳消息我们可以自定义超时判断，如果超时没有收到客户端消息，证明客户端已经断开连接
2. 避免客户端长期不发送消息防火墙或者路由器会断开连接，我们可以通过心跳消息一直保持活跃状态


## 三、实现心跳消息

1. 客户端
   </br>主要功能：定时发送消息
2. 服务端
   </br>主要功能：不停地检测上次收到某客户端的事件，如果超时就默认链接已经断开