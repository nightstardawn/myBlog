---
title: 顶点着色器和片元着色器的基本结构
tags:
  - 程序语言
  - CG语言
categories:
  - [程序语言, CG语言]
author:
  - nightstardawn
---

# 顶点着色器和片元着色器的基本结构

```cs
Shader "Lesson20/NewUnlitShader"
{
    Properties
    {

    }
    SubShader
    {

        Pass
        {
            CGPROGRAM
            // 顶点着色器
            #pragma vertex myVertex
            //顶点着色器 回调函数
            //POSITION SV_POSITION 是语义
            //POSITION ：把模型的顶点坐标填充到输入的参数v中
            //SV_POSITION:顶点着色器输出的内容是裁剪空间中的顶点坐标
            //如果没有语义来限定输入和输出参数 渲染器不知道用户输出的是什么 就会得到错误的效果
            float4 myVertex(float4 v:POSITION):SV_POSITION
            {

                //将模型顶点空间 转换 到裁剪空间当中
                //mul是CG语言提供的矩阵和向量乘法运算的函数（内置函数）
                //UNITY_MATRIX_MVP 代表一个变换矩阵 是UNITY内置的模型、观察、投影矩阵的集合
                //return mul(UNITY_MATRIX_MVP,v);

                //UnityObjectToClipPos() 和矩阵乘法变换是一样的，主要目的就是坐标变换，新版本Unity将其封装起来了
                return UnityObjectToClipPos(v);
            }
            //片元着色器
            #pragma fragment myfragment;
            //顶点着色器 回调函数
            //SV_TAGET 是语义
            //SV_TARGET 告诉渲染器，把用户输出的颜色存储到一个渲染目标中，这里将输出到默认的帧缓存中
            fixed4 myfragment():SV_TARGET
            {
                return fixed4(0,1,0,1);
            }

            ENDCG
        }
    }
}
```
